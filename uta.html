<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Uta Uta</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Palanquin:wght@400;500;600&family=Noto+Serif:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/uta.css" />
</head>
<body>
  <header class="site-header">
    <div class="site-brand">
      <a href="/#top">
        Goodbye to Language
      </a>
    </div>

    <div class="site-header-right">
      <nav class="site-nav" aria-label="Main navigation">
<a href="/html/archive.html">
          Babel
        </a>
        <a href="/imgbook.html">
          ImgBook
        </a>

        <a href="/uta.html">
          Uta Uta
        </a>
        <a href="/html/about.html">
          Persona
        </a>
      </nav>

            <div class="lang-switch" aria-label="Language selector" role="group">
        <span class="lang-switch-handle">
          <a href="/zh/uta.html">中文</a>
          <span class="lang-sep" aria-hidden="true">/</span>
          <a href="/uta.html" class="active">English</a>
        </span>
      </div>
    </div>

    <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
      Menu
    </button>
  </header>

  <main class="uta-page">
    <p class="uta-line">Uta Uta</p>
    <section class="uta-cards" aria-label="Uta notes" data-uta-cards></section>
  </main>

  <script>
    const toggle = document.querySelector('.nav-toggle');
    const nav = document.querySelector('.site-nav');
    if (toggle && nav) {
      toggle.addEventListener('click', () => {
        const isOpen = nav.classList.toggle('is-open');
        toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      });
    }

    const cards = document.querySelector('[data-uta-cards]');
    if (cards) {
      fetch('/content/uta.json', { cache: 'no-store' })
        .then(response => response.json())
        .then(data => {
          const items = Array.isArray(data.items) ? data.items.slice().reverse() : [];
          const fragment = document.createDocumentFragment();
          items.forEach(item => {
            const card = document.createElement('article');
            card.className = 'uta-card';

            const content = document.createElement('div');
            content.className = 'uta-card-content';

            const title = document.createElement('h3');
            title.className = 'uta-card-title';
            title.textContent = item.title || '';

            const body = document.createElement('div');
            body.className = 'uta-card-body';
            if (window.marked) {
              body.innerHTML = marked.parse(item.body || '');
            } else {
              body.textContent = item.body || '';
            }

            content.append(title, body);
            card.append(content);
            fragment.append(card);
          });

          cards.replaceChildren(fragment);
        })
        .catch(() => {});
    }
  </script>
  <script src="/js/nav-active.js"></script>
</body>
</html>
